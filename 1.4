#include <iostream>
#include <string>
using namespace std;

int main() {
    cout << "Enter program (end with $ on a new line):\n";
    string line, code;

    while (getline(cin, line)) {
        if (line == "$") break;
        code += line + "\n";
    }

    string out;
    for (int i = 0; i < (int)code.size(); i++) {
        // single-line comment
        if (i + 1 < (int)code.size() && code[i] == '/' && code[i+1] == '/') {
            while (i < (int)code.size() && code[i] != '\n') i++;
            if (i < (int)code.size()) out += '\n';
        }
        // multi-line comment
        else if (i + 1 < (int)code.size() && code[i] == '/' && code[i+1] == '*') {
            i += 2;
            while (i + 1 < (int)code.size() && !(code[i] == '*' && code[i+1] == '/')) i++;
            i++; // skip '/'
        }
        else {
            out += code[i];
        }
    }

    cout << "\n--- Code after removing comments ---\n";
    cout << out;
    return 0;
}
